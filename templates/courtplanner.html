{% extends "base.html" %} 
{% block title %}Court planner{% endblock %}

<!--
<section id="hero">
    <div class="hero-container" data-aos="fade-up">
        <h1>Welcome to Remember</h1>
        <h2>We are team of talented designers making websites with Bootstrap</h2>
        <a href="#about" class="btn-get-started scrollto">Get Started</a>
    </div>
</section>-->

{% block content %}

<!-- ======= Services Section ======= -->
<section id="services" class="services">
  <div class="container">
    <div class="section-title" data-aos="zoom-in">
      <h2>Court Planner</h2>
      <h3>Interactive Court<span> Designs</span></h3>
    </div>
        <div class="toolbar">
          <button onClick="clear_canvas()" type="button" class="button">Start</button>
          <button onClick="clear_canvas()" type="button" class="button">Clear</button>
        </div>
        <canvas id="canvas""></canvas>

</section>

<style>
  canvas{
    cursor: pointer;
    width: 100%;
    background: url(../static/img/dragndrop/court.svg);
  }
  .toolbar{
    text-align: center;
  }

  .button {
	box-shadow:inset 0px 39px 0px -24px #d10373;
	background:linear-gradient(to bottom, #d10373 5%, #d10373 100%);
	background-color:#d10373;
	border-radius:4px;
	border:1px solid #ffffff;
	display:inline-block;
	cursor:pointer;
	color:#ffffff;
	font-family:Arial;
	font-size:15px;
	padding:6px 15px;
	text-decoration:none;
	text-shadow:0px 1px 0px #d10373;
  margin: 0, auto;
}
.button:hover {
	background:linear-gradient(to bottom, #d10373 5%, #d10373 100%);
	background-color:#d10373;
}
.button:active {
	position:relative;
	top:1px;
}
</style>
<script>
  
  const canvas = document.getElementById("canvas");
  canvas.width = window.innerWidth - 150;
  ratio = 0.52
  canvas.height = (window.innerWidth - 150) * ratio;

  let context = canvas.getContext("2d");
  let start_background_colour = "white";
  context.fillStyle = start_background_colour;
  context.fillRect(0, 0, canvas.width, canvas.height);

  let draw_color = "black";
  let draw_width = "2";
  let is_drawing = false;

  canvas.addEventListener("touchstart", start, false);
  canvas.addEventListener("touchmove", draw, false);
  canvas.addEventListener("mousedown", start, false);
  canvas.addEventListener("mousemove", draw, false);

  canvas.addEventListener("touchend", stop, false);
  canvas.addEventListener("mouseup", stop, false);
  canvas.addEventListener("mouseout", stop, false);

  clear_canvas()

  function start(event){
    is_drawing = true;
    context.beginPath();
    context.moveTo(event.clientX - canvas.offsetLeft, 
                   event.clientY - canvas.offsetTop);
  };

  function draw(event){
    if (is_drawing){
      context.lineTo(event.clientX - canvas.offsetLeft, 
                     event.clientY - canvas.offsetTop);
      context.strokeStyle = draw_color;
      context.lineWidth = draw_width;
      context.lineCap = "round";
      context.lineJoin = "round";
      context.stroke();
     };
   };

  function stop(event){
    if (is_drawing){
      context.stroke();
      context.closePath();
      is_drawing = false;
    };
   };

   function clear_canvas(){
    context.fillStyle = start_background_colour;
    context.clearRect(0, 0, canvas.width, canvas.height);
    context.clearRect(0, 0, canvas.width, canvas.height);
   }

  
</script>

<!-- End Services Section -->

{% endblock %}

